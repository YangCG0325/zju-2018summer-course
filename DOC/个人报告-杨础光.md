# 个人分工

我在第一轮迭代中负责持续集成的实现以及MVVM框架的组装；第二轮迭代中负责view层的优化；第三轮迭代中负责app层，同时优化一些代码。

# 详细实现

## 第一轮迭代

利用github实现版本控制，用appveyor实现持续集成。在使用appveyor实现持续集成时遇到一些问题：用Qt编程的文件无法直接由appveyor编译，查阅资料后得知
需要在github的文件中添加appveyor.yml作为编译的脚本文件。编写yml文件后顺利实现持续集成的功能。

搭建了最基础的model和viewmodel层，给view层和app层提供了接口，实现相互之间的交互。编写square.h头文件作为最基础的文件，实现存储方块数字和分数的类，并编写相应的函数用于调用。主要有针对每一个单一的块进行赋值和取值的功能，随机选取空余块再随机生成2或4的功能，还有记录移动前后带有数字的块的位置的功能。

## 第二轮迭代

主要是给第一轮迭代在操作时让数字消失显示的方式加上过渡，即添加方块移动和出现的动画。

使用QPropertyAnimation和QParallelAnimationGroup两个头文件，按照移动方向对四行或者四列分别设计好动画，在将四列的动画放入一个并行的动画集中执行，在游戏中给人一种四列的方块同步移动的感觉。

对于出现的动画效果，在移动后判断哪些块是两个块融合后得到的或者随机出的新块，这些块在paint后会有一个由大变小的效果，给人一种视觉上的刺激。

![出现效果](https://github.com/blackwings0325/game/blob/master/picture/picture1.png)

## 第三轮迭代

调整app层代码，增加funny model的显示功能。删去部分之前自己写的冗余的代码。

# 心得体会

这门课程给我带来的最大的收获就是学会了MVVM框架的搭建和使用。从一开始的集成部署搭建，到后来的MVVM框架搭建，以及搭建好之后分工开发的过程，增强了我的学习能力和分工合作的能力。在基本的框架实现后，继续开发的时候，确实发现这一框架很大的提升了分工做事的效率，三人在基本互不影响的条件下各自开发，节省了很多不必要的重复的劳动，也剩下了一大部分交流的时间。

刚开始一两天的集成部署实现让我学会了编写appveyor.yml文件用于appveyor编译非Visual studio的文件，换个角度讲，也就是用命令行编译文件的方式。

刚接触MVVM框架时对于如何从文件层面实现十分的疑惑，在参照学习了其他组编写出的第一版，自己边仿照边写自己的程序的时候，慢慢的理解了几个层之间的关系。

在使用Qt开发的过程中，为了实现动画，自己在网上查了很多资料，又写了一些测试效果的程序确定无误后再移植，最终才在总的程序中实现了基本成功的动画效果。

# 课程建议

小组分工的模式很好，应该继续施行。以一个组率先突破，其他组效仿学习的方式来最终达到每个组都学会MVVM框架的目标也是很不错的，但是会带来开发进度上的不统一。如果老师不介意的话，我建议老师可以选取一个体量小的，又能充分体现MVVM框架之间各部分关系的例程，给所有同学讲解一下，再让大家一边组内讨论，一边试着开发自己的程序。
